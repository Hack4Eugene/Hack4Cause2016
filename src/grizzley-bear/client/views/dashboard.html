<section class="content">
	<div class="box">
		<div class="box-header">
			<h3 class="box-title">Compose Call</h3>
		</div>
		<form ng-submit="createCall()">
			<div class="box-body">
				<div ng-if="formatMessage(call).length" class="callout callout-info">
					<h4>{{formatMessage(call)}}</h4>
					<p ng-if="recipientNames().length">Sending to {{recipientNames()}}
				</div>
				<div class="form-group clearfix">
					<label class="col-sm-2">Message ({{charactersLeft()}} characters remaining)</label>
					<div class="col-sm-10">
						<textarea ng-model="call.message" ng-maxlength="charactersLeft()" required class="form-control"></textarea>
					</div>
				</div>
				<div class="form-group clearfix">
					<label class="col-sm-2">Recipients</label>
					<div class="col-sm-10">
						<select class="form-control" ng-model="call.categories" required multiple>
							<option ng-repeat="category in providerCategories" value="{{category}}">{{category}}</option>
						</select>
					</div>
				</div>
				<div class="form-group clearfix">
					<label class="col-sm-2 control-label">Reply Number</label>
					<div class="col-sm-10">
						<input ui-mask="(999) 999-9999" class="form-control" ng-model="call.reply" required />
					</div>
				</div>
			</div>
			<div class="box-footer">
				<a ng-click="resetCall()" class="btn btn-default">Cancel</a>
				<button type="submit" class="btn btn-info pull-right">Send</button>
			</div>
		</form>
	</div>
</section>
